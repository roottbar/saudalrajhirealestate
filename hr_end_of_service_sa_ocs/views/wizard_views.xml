<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        
        <!-- End of Service Wizard Form View -->
        <record id="view_hr_end_of_service_wizard_form" model="ir.ui.view">
            <field name="name">hr.end.of.service.wizard.form</field>
            <field name="model">hr.end.of.service.wizard</field>
            <field name="arch" type="xml">
                <form string="معالج إنشاء تصفية نهاية الخدمة">
                    <sheet>
                        <div class="oe_title">
                            <h1>إنشاء تصفية نهاية الخدمة</h1>
                            <p>قم بتعبئة البيانات التالية لإنشاء تصفية نهاية خدمة جديدة</p>
                        </div>
                        
                        <group>
                            <group name="employee_info" string="معلومات الموظف">
                                <field name="employee_id" options="{'no_create': True, 'no_edit': True}" required="1"/>
                                <field name="calculation_date" required="1"/>
                                <field name="end_date" required="1"/>
                                <field name="termination_type" required="1"/>
                            </group>
                            <group name="options" string="خيارات التصفية">
                                <field name="include_vacation_settlement"/>
                                <field name="auto_confirm"/>
                                <field name="company_id" groups="base.group_multi_company"/>
                            </group>
                        </group>
                        
                        <group name="notes_group" string="ملاحظات">
                            <field name="notes" placeholder="أدخل أي ملاحظات إضافية..."/>
                        </group>
                        
                        <separator string="معاينة المكافآت المقدرة"/>
                        <button name="action_preview_benefits" string="معاينة المكافآت" type="object" class="btn-info" attrs="{'invisible': [('employee_id', '=', False)]}"/>
                        
                        <div attrs="{'invisible': [('employee_id', '=', False)]}">
                            <p class="text-muted">ملاحظة: هذه معاينة تقديرية للمكافآت بناءً على البيانات الحالية. القيم الفعلية قد تختلف حسب آخر راتب وتفاصيل العقد.</p>
                        </div>
                    </sheet>
                    
                    <footer>
                        <button name="action_create_settlement" string="إنشاء التصفية" type="object" class="oe_highlight"/>
                        <button string="إلغاء" class="btn-secondary" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>
        
        <!-- Annual Leave Settlement Wizard Form View -->
        <record id="view_hr_annual_leave_settlement_wizard_form" model="ir.ui.view">
            <field name="name">hr.annual.leave.settlement.wizard.form</field>
            <field name="model">hr.annual.leave.settlement.wizard</field>
            <field name="arch" type="xml">
                <form string="معالج إنشاء تصفية الإجازة السنوية">
                    <sheet>
                        <div class="oe_title">
                            <h1>إنشاء تصفية الإجازة السنوية</h1>
                            <p>قم بتعبئة البيانات التالية لإنشاء تصفية إجازة سنوية جديدة</p>
                        </div>
                        
                        <group>
                            <group name="employee_info" string="معلومات الموظف">
                                <field name="employee_id" options="{'no_create': True, 'no_edit': True}" required="1"/>
                                <field name="calculation_date" required="1"/>
                                <field name="settlement_type" required="1"/>
                            </group>
                            <group name="period_info" string="فترة التصفية">
                                <field name="settlement_period_from" required="1"/>
                                <field name="settlement_period_to" required="1"/>
                                <field name="settlement_date"/>
                            </group>
                        </group>
                        
                        <group>
                            <group name="leave_info" string="معلومات الإجازة">
                                <field name="annual_leave_days" required="1"/>
                                <field name="include_used_leaves"/>
                            </group>
                            <group name="options" string="خيارات التصفية">
                                <field name="auto_confirm"/>
                                <field name="company_id" groups="base.group_multi_company"/>
                            </group>
                        </group>
                        
                        <group name="notes_group" string="ملاحظات">
                            <field name="notes" placeholder="أدخل أي ملاحظات إضافية..."/>
                        </group>
                        
                        <separator string="إجراءات سريعة"/>
                        <div class="row">
                            <div class="col-md-4">
                                <button name="action_preview_settlements" string="معاينة التصفية" type="object" class="btn-info" attrs="{'invisible': [('employee_id', '=', False)]}"/>
                            </div>
                            <div class="col-md-4">
                                <button name="action_calculate_for_period" string="حساب للفترة" type="object" class="btn-secondary" attrs="{'invisible': [('employee_id', '=', False)]}"/>
                            </div>
                            <div class="col-md-4">
                                <button name="action_bulk_create_annual_settlements" string="تصفية جماعية" type="object" class="btn-warning"/>
                            </div>
                        </div>
                        
                        <div attrs="{'invisible': [('employee_id', '=', False)]}">
                            <p class="text-muted">ملاحظة: سيتم حساب أيام الإجازة المتبقية تلقائياً بناءً على الفترة المحددة وأيام الإجازة المستخدمة.</p>
                        </div>
                    </sheet>
                    
                    <footer>
                        <button name="action_create_settlements" string="إنشاء التصفية" type="object" class="oe_highlight"/>
                        <button string="إلغاء" class="btn-secondary" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>
        
        <!-- End of Service Wizard Action -->
        <record id="action_hr_end_of_service_wizard" model="ir.actions.act_window">
            <field name="name">إنشاء تصفية نهاية الخدمة</field>
            <field name="res_model">hr.end.of.service.wizard</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
            <field name="view_id" ref="view_hr_end_of_service_wizard_form"/>
        </record>
        
        <!-- Annual Leave Settlement Wizard Action -->
        <record id="action_hr_annual_leave_settlement_wizard" model="ir.actions.act_window">
            <field name="name">إنشاء تصفية الإجازة السنوية</field>
            <field name="res_model">hr.annual.leave.settlement.wizard</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
            <field name="view_id" ref="view_hr_annual_leave_settlement_wizard_form"/>
        </record>
        
        <!-- Menu Items for Wizards -->
        <menuitem id="menu_hr_end_of_service_wizard" name="إنشاء تصفية نهاية خدمة" parent="menu_hr_end_of_service_root" action="action_hr_end_of_service_wizard" sequence="30"/>
        
        <menuitem id="menu_hr_annual_leave_settlement_wizard" name="إنشاء تصفية إجازة سنوية" parent="menu_hr_end_of_service_root" action="action_hr_annual_leave_settlement_wizard" sequence="40"/>
        
    </data>
</odoo>
