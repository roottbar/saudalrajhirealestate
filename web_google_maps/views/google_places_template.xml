<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="assets_gmaps" name="Google Maps Assets" inherit_id="web.assets_backend">
        <t t-set="google_maps_api_key" t-value="request.env['ir.config_parameter'].sudo().get_param('web_google_maps.api_key')"/>
        <t t-set="google_maps_lang" t-value="request.env['ir.config_parameter'].sudo().get_param('web_google_maps.lang_localization')"/>
        <t t-set="google_maps_libs" t-value="request.env['ir.config_parameter'].sudo().get_param('web_google_maps.libraries')"/>
        <t t-set="google_maps_region" t-value="request.env['ir.config_parameter'].sudo().get_param('web_google_maps.region_localization', default='')"/>

        <t t-if="google_maps_api_key">
            <script t-att-src="https://maps.googleapis.com/maps/api/js?v=quarterly&amp;key=#{google_maps_api_key}&amp;libraries=#{google_maps_libs}#{google_maps_lang and '&amp;language=' + google_maps_lang or ''}#{google_maps_region and '&amp;region=' + google_maps_region or ''}"></script>
        </t>
        <t t-else="">
            <script t-att-src="https://maps.googleapis.com/maps/api/js?v=quarterly&amp;libraries=#{google_maps_libs}#{google_maps_lang and '&amp;language=' + google_maps_lang or ''}#{google_maps_region and '&amp;region=' + google_maps_region or ''}"></script>
        </t>

        <script src="https://unpkg.com/@googlemaps/markerclusterer/dist/index.min.js"></script>
    </template>
</odoo>
